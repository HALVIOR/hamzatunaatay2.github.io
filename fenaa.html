<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Kral Galericilik SimÃ¼latÃ¶rÃ¼</title>
<style>
body{background:#1a1a1a;color:#fff;font-family:Segoe UI;padding:20px;text-align:center}
h1{color:#f1c40f}
.stats{display:flex;justify-content:space-around;background:#333;padding:15px;border-radius:10px;margin-bottom:15px}
.panel{background:#2c3e50;padding:15px;border-radius:10px;width:45%}
.container{display:flex;gap:15px;flex-wrap:wrap;justify-content:center}
.car{background:#ecf0f1;color:#000;padding:10px;border-radius:6px;margin-bottom:8px}
button{padding:6px 12px;border:none;border-radius:5px;font-weight:bold;cursor:pointer}
.buy{background:#2ecc71}
.sell{background:#e67e22}
.exp{background:#3498db;color:#fff}
#log{background:#000;color:#0f0;height:120px;overflow:auto;margin-top:15px;padding:10px;font-family:monospace}
</style>
</head>

<body>

<h1>ğŸš— KRAL GALERÄ°CÄ°LÄ°K ğŸš—</h1>

<div class="stats">
<span id="money"></span>
<span id="rep"></span>
<span id="lvl"></span>
</div>

<div class="container">
<div class="panel">
<h3>ğŸ“¢ PÄ°YASA</h3>
<div id="market"></div>
<button onclick="refresh()">ğŸ”„ Yenile (1.000 TL)</button>
</div>

<div class="panel">
<h3>ğŸ  GARAJ</h3>
<div id="garage"></div>
</div>
</div>

<div id="log">Sisteme giriÅŸ yapÄ±ldÄ±...</div>

<script>
let money=500000,rep=10,lvl=1,xp=0;
let garage=[],market=[];
const cars=[
{name:"TofaÅŸ Åahin",p:200000},
{name:"Civic VTEC",p:800000},
{name:"Passat AÅŸiret",p:1500000},
{name:"BMW 3.20 Yan",p:2000000}
];

function log(t){logDiv.innerHTML="> "+t+"<br>"+logDiv.innerHTML}
const logDiv=document.getElementById("log");

function update(){
moneySpan.innerText="ğŸ’° "+money.toLocaleString()+" TL";
repSpan.innerText="â­ Ä°tibar %"+rep;
lvlSpan.innerText="ğŸ† Seviye "+lvl;
render();
}

function genCar(){
let c=cars[Math.floor(Math.random()*cars.length)];
let price=Math.floor(c.p*(0.8+Math.random()*0.4));
return {id:Math.random(),name:c.name,price:price,real:Math.floor(price*(1.1+rep/200)),checked:false};
}

function refresh(){
if(money<1000)return log("Paran yok!");
money-=1000;
market=[];
for(let i=0;i<4;i++)market.push(genCar());
log("Piyasa yenilendi");
update();
}

function buy(id){
let i=market.findIndex(x=>x.id==id);
let c=market[i];
if(money<c.price)return log("Paran yetmedi!");
garage.push(c); money-=c.price; market.splice(i,1);
log(c.name+" alÄ±ndÄ±");
update();
}

function expert(id){
let c=garage.find(x=>x.id==id);
if(money<5000)return log("Ekspertiz parasÄ± yok!");
money-=5000; c.checked=true;
log(c.name+" ekspertize girdi. GerÃ§ek deÄŸer: "+c.real.toLocaleString()+" TL");
update();
}

function sell(id){
let i=garage.findIndex(x=>x.id==id);
let c=garage[i];
let offer=c.checked?Math.floor(c.real*(0.9+Math.random()*0.2)):Math.floor(c.price*(0.6+Math.random()*0.3));
if(confirm("Teklif: "+offer.toLocaleString()+" TL\nSatÄ±lsÄ±n mÄ±?")){
money+=offer;
let kar=offer-c.price;
rep+=kar>0?2:-1;
xp+=10;
if(xp>=50){lvl++;xp=0;log("SEVÄ°YE ATLADIN!")}
garage.splice(i,1);
log(c.name+" satÄ±ldÄ± | Kar: "+kar.toLocaleString());
update();
}
}

function render(){
marketDiv.innerHTML="";
garageDiv.innerHTML="";
market.forEach(c=>{
marketDiv.innerHTML+=`<div class="car">${c.name}<br>${c.price.toLocaleString()} TL<br><button class="buy" onclick="buy(${c.id})">AL</button></div>`;
});
if(!garage.length)garageDiv.innerHTML="Garaj boÅŸ";
garage.forEach(c=>{
garageDiv.innerHTML+=`<div class="car">${c.name}<br>Maliyet: ${c.price.toLocaleString()}<br>
<button class="exp" onclick="expert(${c.id})">Ekspertiz</button>
<button class="sell" onclick="sell(${c.id})">SAT</button></div>`;
});
}

const moneySpan=document.getElementById("money");
const repSpan=document.getElementById("rep");
const lvlSpan=document.getElementById("lvl");
const marketDiv=document.getElementById("market");
const garageDiv=document.getElementById("garage");

refresh(); money+=1000; update();
</script>

</body>
</html>
