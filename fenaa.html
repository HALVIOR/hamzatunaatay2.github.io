<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reis Galericilik: AI ONLINE</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --main: #1abc9c; --bg: #0f172a; --card: #1e293b; --text: #f8fafc; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 10px; }
        
        .header { background: var(--card); padding: 15px; border-radius: 15px; border-bottom: 4px solid var(--main); display: flex; justify-content: space-around; align-items: center; margin-bottom: 15px; position: sticky; top: 0; z-index: 100; }
        .online-count { background: #27ae60; padding: 5px 10px; border-radius: 20px; font-size: 0.8rem; font-weight: bold; }

        .grid { display: grid; grid-template-columns: 350px 1fr 350px; gap: 15px; }
        .panel { background: var(--card); border-radius: 15px; padding: 15px; border: 1px solid #334155; height: fit-content; }
        
        /* AI Chat AlanÄ± */
        .ai-chat { height: 250px; overflow-y: auto; background: #000; border-radius: 10px; padding: 10px; font-family: monospace; font-size: 0.85rem; border: 1px solid #1abc9c; }
        .chat-msg { margin-bottom: 8px; border-bottom: 1px solid #111; padding-bottom: 4px; }
        .bot-name { color: #3498db; font-weight: bold; }
        .bot-text { color: #ccc; }

        .car-card { background: var(--text); color: #0f172a; padding: 12px; border-radius: 10px; margin-bottom: 12px; transition: 0.3s; }
        .price { font-weight: bold; color: #27ae60; font-size: 1.1rem; }
        .btn { border: none; padding: 8px 12px; border-radius: 6px; cursor: pointer; font-weight: bold; width: 100%; }
        .btn-buy { background: #27ae60; color: white; }
        .btn-sell { background: #f39c12; color: white; }
    </style>
</head>
<body>

<div class="header">
    <div>ğŸ’° <span id="m-money">750.000</span> TL</div>
    <div class="online-count"><i class="fas fa-circle" style="font-size:0.6rem; color:#fff;"></i> <span id="user-count">1.450</span> OYUNCU AKTÄ°F</div>
    <button class="btn" style="width:auto; background:#e74c3c; color:white;" onclick="saveGame()">KAYDET</button>
</div>

<div class="grid">
    <div class="panel">
        <h2><i class="fas fa-comments"></i> GLOBAL CHAT (AI)</h2>
        <div class="ai-chat" id="chat-box"></div>
        
        <h2 style="margin-top:20px;"><i class="fas fa-trophy"></i> ZENGÄ°NLER LÄ°STESÄ°</h2>
        <div id="leaderboard" style="font-size:0.9rem;"></div>
    </div>

    <div class="panel">
        <h2><i class="fas fa-store"></i> CANLI PÄ°YASA</h2>
        <div id="market-list"></div>
        <hr style="border-color:#334155;">
        <h2><i class="fas fa-warehouse"></i> GARAJIM</h2>
        <div id="garage-list"></div>
    </div>

    <div class="panel">
        <h2><i class="fas fa-chart-line"></i> EKONOMÄ° PANELÄ°</h2>
        <div style="padding:10px; background:#0f172a; border-radius:10px;">
            <div>ğŸ’µ USD: <b id="rate-usd">31.20</b> TL</div>
            <div>â‚¿ BTC: <b id="rate-btc">1.850.000</b> TL</div>
        </div>
        <button class="btn" style="margin-top:10px; background:var(--main); color:white;" onclick="refreshMarket()">PAZARI GEZ (-2.500 TL)</button>
        
        <h2 style="margin-top:20px;"><i class="fas fa-university"></i> BANKA KREDÄ°</h2>
        <button class="btn" style="background:#8e44ad; color:white;" onclick="takeLoan()">500.000 TL KREDÄ° Ã‡EK</button>
        <p id="loan-info" style="font-size:0.8rem; text-align:center;">BorÃ§: 0 TL</p>
    </div>
</div>

<script>
let state = { money: 750000, garage: [], btc: 0, loan: 0, rep: 0, usd: 31.20, btcRate: 1850000 };
let marketItems = [];
const botNames = ["GÃ¶lcÃ¼klÃ¼_Reis", "Modifiyeci_Apo", "Galerici_Cemo", "Bitcoin_Fati", "TofaÅŸÃ§Ä±_KÄ±z", "Aslan_Bey", "Vip_Dizayn"];

// --- SÄ°STEM BAÅLAT ---
function init() {
    loadGame();
    setInterval(aiBanter, 5000); // Botlar konuÅŸur
    setInterval(economyTick, 4000); // Ekonomi dÃ¶ner
    setInterval(updateOnlineCount, 3000); // Online sayÄ±sÄ± deÄŸiÅŸir
    setInterval(aiSnatch, 12000); // Botlar marketten araÃ§ kapar
    refreshMarket();
    updateUI();
}

function updateUI() {
    document.getElementById("m-money").innerText = Math.floor(state.money).toLocaleString();
    document.getElementById("rate-usd").innerText = state.usd.toFixed(2);
    document.getElementById("rate-btc").innerText = state.btcRate.toLocaleString();
    document.getElementById("loan-info").innerText = "BorÃ§: " + state.loan.toLocaleString() + " TL";
    renderMarket();
    renderGarage();
    renderLeaderboard();
}

// --- AI BANTER (SAHTE CHAT) ---
function aiBanter() {
    const messages = [
        "Beyler TofaÅŸ piyasasÄ± bitmiÅŸ, herkes Passat peÅŸinde.",
        "Dolar fÄ±rlÄ±yor, eldeki arabalarÄ± tutun bence.",
        "Åu an marketteki ilanlar Ã§ok temiz, birini kaptÄ±m bile!",
        "Kredi Ã§ektim Mercedes aldÄ±m, batÄ±yoruz galiba...",
        "Hamza Reis piyasaya girmiÅŸ diyorlar, doÄŸru mu?",
        "Bitcoin 2 milyon olur mu bu gece?",
        "ArabayÄ± modifiye ettim, deÄŸeri ikiye katlandÄ±."
    ];
    const name = botNames[Math.floor(Math.random()*botNames.length)];
    const msg = messages[Math.floor(Math.random()*messages.length)];
    const box = document.getElementById("chat-box");
    box.innerHTML += `<div class="chat-msg"><span class="bot-name">${name}:</span> <span class="bot-text">${msg}</span></div>`;
    box.scrollTop = box.scrollHeight;
}

// --- AI SNATCH (BOTLARIN ARAÃ‡ ALMASI) ---
function aiSnatch() {
    if(marketItems.length > 0 && Math.random() > 0.7) {
        const stolen = marketItems.shift();
        const name = botNames[Math.floor(Math.random()*botNames.length)];
        const box = document.getElementById("chat-box");
        box.innerHTML += `<div class="chat-msg" style="color:#e74c3c;">ğŸ“¢ <b>SÄ°STEM:</b> ${name} marketteki ${stolen.name} ilanÄ±nÄ± satÄ±n aldÄ±!</div>`;
        updateUI();
    }
}

function updateOnlineCount() {
    const count = 1400 + Math.floor(Math.random() * 200);
    document.getElementById("user-count").innerText = count.toLocaleString();
}

// --- OYUN MEKANÄ°KLERÄ° ---
function economyTick() {
    state.usd += (Math.random() * 0.2 - 0.1);
    state.btcRate += (Math.random() * 20000 - 10000);
    if(state.loan > 0) state.loan += Math.floor(state.loan * 0.001);
    updateUI();
}

const CARS = [
    { name: "TofaÅŸ Åahin", base: 220000, icon: "ğŸš—" },
    { name: "Passat AÅŸiret", base: 1850000, icon: "ğŸš˜" },
    { name: "TOGG T10X", base: 2100000, icon: "ğŸ”‹" },
    { name: "Mercedes S600", base: 14000000, icon: "ğŸ•´ï¸" }
];

function refreshMarket() {
    if(state.money < 2500) return;
    state.money -= 2500;
    marketItems = [];
    for(let i=0; i<3; i++) {
        let p = CARS[Math.floor(Math.random()*CARS.length)];
        marketItems.push({ id: Math.random(), name: p.name, icon: p.icon, price: Math.floor(p.base * (0.8 + Math.random()*0.5)) });
    }
    updateUI();
}

function buyCar(id) {
    const car = marketItems.find(x => x.id === id);
    if(state.money >= car.price && state.garage.length < 6) {
        state.money -= car.price;
        state.garage.push(car);
        marketItems = marketItems.filter(x => x.id !== id);
        updateUI();
    }
}

function sellCar(idx) {
    let car = state.garage[idx];
    let offer = Math.floor(car.price * (0.9 + Math.random()*0.6));
    if(confirm(`${offer.toLocaleString()} TL veriyorlar. SatÄ±lsÄ±n mÄ±?`)) {
        state.money += offer;
        state.garage.splice(idx, 1);
        updateUI();
    }
}

function renderMarket() {
    const div = document.getElementById("market-list");
    div.innerHTML = marketItems.map(c => `
        <div class="car-card">
            <div>${c.icon} <b>${c.name}</b></div>
            <div class="price">${c.price.toLocaleString()} TL</div>
            <button class="btn btn-buy" onclick="buyCar(${c.id})">AL</button>
        </div>
    `).join('');
}

function renderGarage() {
    const div = document.getElementById("garage-list");
    div.innerHTML = state.garage.map((c, i) => `
        <div class="car-card" style="border-left:5px solid var(--main)">
            <div>${c.icon} <b>${c.name}</b></div>
            <button class="btn btn-sell" onclick="sellCar(${i})">MÃœÅTERÄ°YE SAT</button>
        </div>
    `).join('');
}

function renderLeaderboard() {
    const div = document.getElementById("leaderboard");
    let bots = botNames.map(n => ({name: n, money: 1000000 + Math.random()*50000000}));
    bots.push({name: "SEN (REÄ°S)", money: state.money});
    bots.sort((a,b) => b.money - a.money);
    div.innerHTML = bots.slice(0, 6).map((b, i) => `
        <div style="display:flex; justify-content:space-between; padding:5px; background:${b.name.includes('SEN') ? '#1abc9c33' : 'transparent'}">
            <span>${i+1}. ${b.name}</span>
            <b>${Math.floor(b.money).toLocaleString()}</b>
        </div>
    `).join('');
}

function takeLoan() { if(state.loan == 0) { state.loan = 500000; state.money += 500000; updateUI(); } }
function saveGame() { localStorage.setItem('ai_online_save', JSON.stringify(state)); alert("Kaydedildi!"); }
function loadGame() { const s = localStorage.getItem('ai_online_save'); if(s) state = JSON.parse(s); }

init();
</script>
</body>
</html>
